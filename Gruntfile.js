/**
 * author:zhouxiangbo
 * date: 2017-08-08 上午11:18
 * summary:
 */
//工具箱
module.exports=function(grunt){
    //插件配置
    grunt.initConfig({
        //获取 package.json的信息
        pkg:grunt.file.readJSON('package.json'),
        // uglify插件的配置信息
        uglify:{/*js压缩插件*/
            options:{
                stripBanners:true,/*生成的压缩文件的注释*/
                banner:'/*! <%=pkg.name%>-<%=pkg.version%>.js <%=grunt.template.today("yyyy-mm-dd")%> */\n'
            },
            build: {
                files: {
                    'js/account.min.js': ['src/account.js']
                }
            }
        },
        jshint:{/*js语法检则插件*/
            options:{
                jshintrc:'.jshintrc'/*定义检查规则*/
            },
            build:['Gruntfile.js','src/*.js']/*定义源*/
        },
        cssmin: {/*css压缩插件*/
            options: {
                shorthandCompacting: false,
                roundingPrecision: -1
            },
            build: {
                files: {
                    'build/mobile.min.css': ['css/mobile.css']
                }
            }
        },
        csslint:{/*css语法检则插件*/
            options:{
                csslintrc:'.csslintrc'/*定义检查规则*/
            },
            build: {
                options: {
                    import: false
                },
                src: ['css/*.css']/*定义源*/
            }
        },
        watch: {
            build: {
                files: ['src/*.js','css/*.css'],
                tasks: ['jshint','uglify','csslint','cssmin'],
                options: {
                    spawn: false
                }
            }
        }

    });

    //插件加载
    //grunt.loadNpmTasks('grunt-contrib-uglify');/*js压缩*/
    // grunt.loadNpmTasks('grunt-contrib-jshint');/*js语法检则插件*/
     grunt.loadNpmTasks('grunt-contrib-cssmin');/*css压缩*/
    // grunt.loadNpmTasks('grunt-contrib-csslint');/*css语法检则插件*/
    // grunt.loadNpmTasks('grunt-contrib-watch');

    //插件运行
    //grunt.registerTask('default',['jshint','uglify','csslint','cssmin','watch']);
    grunt.registerTask('default',['cssmin']);
    //grunt.registerTask('default',['uglify']);

};



























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































